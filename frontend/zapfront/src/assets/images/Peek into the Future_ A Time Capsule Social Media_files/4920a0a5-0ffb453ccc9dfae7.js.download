/*! For license information please see 4920a0a5-0ffb453ccc9dfae7.js.LICENSE.txt */
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2563],{99747:function(e,t,r){r.d(t,{C9Q:function(){return An},JIX:function(){return Ua},Kul:function(){return di},MTn:function(){return i.MT},SPV:function(){return fo},SV0:function(){return ei},TUE:function(){return ri},U7P:function(){return fi},ZUk:function(){return Ia},bbC:function(){return vo},hv7:function(){return Bi},lMF:function(){return Ra},mfU:function(){return yo},mnA:function(){return io},qnz:function(){return qo},rO3:function(){return si},s3t:function(){return po},uPr:function(){return Ai},xje:function(){return $n}});var n=r(91131),o=r(67294),a=r(53416),i=(r(46977),r(24762)),u=r(37173),l=r(590),c=r(97103),s=r(57645),f=r(96391),d=r(86010),p=r(38651),v=r(77493);const h=(e="")=>e.length>0?`${e}Store`:"store",y=(e="")=>`use${((e="")=>e.length>0?e[0].toUpperCase()+e.slice(1):"")(e)}Store`,b=(e,{scope:t,initialStore:r,name:o=""}={})=>{const a=y(null==r?void 0:r.name),i=h(null==r?void 0:r.name),u=y(o),l=h(o),c=r?r[a]().get:{},s=r?r[a]().set:{},f=r?r[a]().use:{},d=r?r[i].atom:{};Object.keys(e).forEach((r=>{const o=(0,n.cn)(e[r]);d[r]=o,c[r]=e=>(0,n.Dv)(o,null!=e?e:t),s[r]=e=>(0,n.b9)(o,null!=e?e:t),f[r]=e=>(0,n.KO)(o,null!=e?e:t)}));const p={[u]:e=>{if(e){const r={...c},n={...s},o={...f};return Object.keys(r).forEach((n=>{const o=r[n];r[n]=r=>{var n;return o(null!==(n=null!=r?r:e)&&void 0!==n?n:t)}})),Object.keys(n).forEach((r=>{const o=n[r];n[r]=r=>{var n;return o(null!==(n=null!=r?r:e)&&void 0!==n?n:t)}})),Object.keys(o).forEach((r=>{const n=o[r];o[r]=r=>{var o;return n(null!==(o=null!=r?r:e)&&void 0!==o?o:t)}})),{get:r,set:n,use:o}}return{get:c,set:s,use:f}},[l]:{atom:d},name:o};return{...p,[l]:{...p[l],scope:t,extend:(e,r)=>b(e,{scope:t,initialStore:p,...r})}}};function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}const m="element",{elementStore:w,useElementStore:j}=b({element:null},{name:"element"}),k=({element:e,scope:t,children:r})=>{const n=j().set.element(t),a=j().set.element(m);return(0,o.useEffect)((()=>{n(e),a(e)}),[e,n,a]),r};function O({element:e,scope:t,children:r,...a}){return o.createElement(n.zt,g({initialValues:[[w.atom.element,e]],scope:m},a),o.createElement(n.zt,g({initialValues:[[w.atom.element,e]],scope:t},a),o.createElement(k,{element:e,scope:t},r)))}function C({attributes:e,children:t,text:r,leaf:n,editor:a,nodeProps:i,...u}){return o.createElement("span",g({},e,u),t)}var E=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o};var _=function(){this.__data__=[],this.size=0};var S=function(e,t){return e===t||e!=e&&t!=t};var P=function(e,t){for(var r=e.length;r--;)if(S(e[r][0],t))return r;return-1},x=Array.prototype.splice;var B=function(e){var t=this.__data__,r=P(t,e);return!(r<0)&&(r==t.length-1?t.pop():x.call(t,r,1),--this.size,!0)};var A=function(e){var t=this.__data__,r=P(t,e);return r<0?void 0:t[r][1]};var D=function(e){return P(this.__data__,e)>-1};var M=function(e,t){var r=this.__data__,n=P(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function F(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}F.prototype.clear=_,F.prototype.delete=B,F.prototype.get=A,F.prototype.has=D,F.prototype.set=M;var L=F;var T=function(){this.__data__=new L,this.size=0};var K=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var z=function(e){return this.__data__.get(e)};var N=function(e){return this.__data__.has(e)},V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function I(e,t){return e(t={exports:{}},t.exports),t.exports}var U="object"==typeof V&&V&&V.Object===Object&&V,R="object"==typeof self&&self&&self.Object===Object&&self,W=U||R||Function("return this")(),H=W.Symbol,$=Object.prototype,q=$.hasOwnProperty,G=$.toString,Z=H?H.toStringTag:void 0;var J=function(e){var t=q.call(e,Z),r=e[Z];try{e[Z]=void 0;var n=!0}catch(e){}var o=G.call(e);return n&&(t?e[Z]=r:delete e[Z]),o},Q=Object.prototype.toString;var X=function(e){return Q.call(e)},Y=H?H.toStringTag:void 0;var ee=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Y&&Y in Object(e)?J(e):X(e)};var te=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var re,ne=function(e){if(!te(e))return!1;var t=ee(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},oe=W["__core-js_shared__"],ae=(re=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||""))?"Symbol(src)_1."+re:"";var ie=function(e){return!!ae&&ae in e},ue=Function.prototype.toString;var le=function(e){if(null!=e){try{return ue.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ce=/^\[object .+?Constructor\]$/,se=Function.prototype,fe=Object.prototype,de=se.toString,pe=fe.hasOwnProperty,ve=RegExp("^"+de.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var he=function(e){return!(!te(e)||ie(e))&&(ne(e)?ve:ce).test(le(e))};var ye=function(e,t){return null==e?void 0:e[t]};var be=function(e,t){var r=ye(e,t);return he(r)?r:void 0},ge=be(W,"Map"),me=be(Object,"create");var we=function(){this.__data__=me?me(null):{},this.size=0};var je=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ke=Object.prototype.hasOwnProperty;var Oe=function(e){var t=this.__data__;if(me){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ke.call(t,e)?t[e]:void 0},Ce=Object.prototype.hasOwnProperty;var Ee=function(e){var t=this.__data__;return me?void 0!==t[e]:Ce.call(t,e)};var _e=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=me&&void 0===t?"__lodash_hash_undefined__":t,this};function Se(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Se.prototype.clear=we,Se.prototype.delete=je,Se.prototype.get=Oe,Se.prototype.has=Ee,Se.prototype.set=_e;var Pe=Se;var xe=function(){this.size=0,this.__data__={hash:new Pe,map:new(ge||L),string:new Pe}};var Be=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ae=function(e,t){var r=e.__data__;return Be(t)?r["string"==typeof t?"string":"hash"]:r.map};var De=function(e){var t=Ae(this,e).delete(e);return this.size-=t?1:0,t};var Me=function(e){return Ae(this,e).get(e)};var Fe=function(e){return Ae(this,e).has(e)};var Le=function(e,t){var r=Ae(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Te(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Te.prototype.clear=xe,Te.prototype.delete=De,Te.prototype.get=Me,Te.prototype.has=Fe,Te.prototype.set=Le;var Ke=Te;var ze=function(e,t){var r=this.__data__;if(r instanceof L){var n=r.__data__;if(!ge||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ke(n)}return r.set(e,t),this.size=r.size,this};function Ne(e){var t=this.__data__=new L(e);this.size=t.size}Ne.prototype.clear=T,Ne.prototype.delete=K,Ne.prototype.get=z,Ne.prototype.has=N,Ne.prototype.set=ze;var Ve=Ne;var Ie=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},Ue=function(){try{var e=be(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Re=function(e,t,r){"__proto__"==t&&Ue?Ue(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},We=Object.prototype.hasOwnProperty;var He=function(e,t,r){var n=e[t];We.call(e,t)&&S(n,r)&&(void 0!==r||t in e)||Re(e,t,r)};var $e=function(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var u=t[a],l=n?n(r[u],e[u],u,r,e):void 0;void 0===l&&(l=e[u]),o?Re(r,u,l):He(r,u,l)}return r};var qe=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var Ge=function(e){return null!=e&&"object"==typeof e};var Ze=function(e){return Ge(e)&&"[object Arguments]"==ee(e)},Je=Object.prototype,Qe=Je.hasOwnProperty,Xe=Je.propertyIsEnumerable,Ye=Ze(function(){return arguments}())?Ze:function(e){return Ge(e)&&Qe.call(e,"callee")&&!Xe.call(e,"callee")},et=Ye,tt=Array.isArray;var rt=function(){return!1},nt=I((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?W.Buffer:void 0,a=(o?o.isBuffer:void 0)||rt;e.exports=a})),ot=/^(?:0|[1-9]\d*)$/;var at=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&ot.test(e))&&e>-1&&e%1==0&&e<t};var it=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ut={};ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Arguments]"]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object Boolean]"]=ut["[object DataView]"]=ut["[object Date]"]=ut["[object Error]"]=ut["[object Function]"]=ut["[object Map]"]=ut["[object Number]"]=ut["[object Object]"]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object WeakMap]"]=!1;var lt=function(e){return Ge(e)&&it(e.length)&&!!ut[ee(e)]};var ct=function(e){return function(t){return e(t)}},st=I((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r&&U.process,a=function(){try{var e=n&&n.require&&n.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a})),ft=st&&st.isTypedArray,dt=ft?ct(ft):lt,pt=Object.prototype.hasOwnProperty;var vt=function(e,t){var r=tt(e),n=!r&&et(e),o=!r&&!n&&nt(e),a=!r&&!n&&!o&&dt(e),i=r||n||o||a,u=i?qe(e.length,String):[],l=u.length;for(var c in e)!t&&!pt.call(e,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||at(c,l))||u.push(c);return u},ht=Object.prototype;var yt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ht)};var bt=function(e,t){return function(r){return e(t(r))}},gt=bt(Object.keys,Object),mt=Object.prototype.hasOwnProperty;var wt=function(e){if(!yt(e))return gt(e);var t=[];for(var r in Object(e))mt.call(e,r)&&"constructor"!=r&&t.push(r);return t};var jt=function(e){return null!=e&&it(e.length)&&!ne(e)};var kt=function(e){return jt(e)?vt(e):wt(e)};var Ot=function(e,t){return e&&$e(t,kt(t),e)};var Ct=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Et=Object.prototype.hasOwnProperty;var _t=function(e){if(!te(e))return Ct(e);var t=yt(e),r=[];for(var n in e)("constructor"!=n||!t&&Et.call(e,n))&&r.push(n);return r};var St=function(e){return jt(e)?vt(e,!0):_t(e)};var Pt=function(e,t){return e&&$e(t,St(t),e)},xt=I((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?W.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}));var Bt=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};var At=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a};var Dt=function(){return[]},Mt=Object.prototype.propertyIsEnumerable,Ft=Object.getOwnPropertySymbols,Lt=Ft?function(e){return null==e?[]:(e=Object(e),At(Ft(e),(function(t){return Mt.call(e,t)})))}:Dt;var Tt=function(e,t){return $e(e,Lt(e),t)};var Kt=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},zt=bt(Object.getPrototypeOf,Object),Nt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Kt(t,Lt(e)),e=zt(e);return t}:Dt;var Vt=function(e,t){return $e(e,Nt(e),t)};var It=function(e,t,r){var n=t(e);return tt(e)?n:Kt(n,r(e))};var Ut=function(e){return It(e,kt,Lt)};var Rt=function(e){return It(e,St,Nt)},Wt=be(W,"DataView"),Ht=be(W,"Promise"),$t=be(W,"Set"),qt=be(W,"WeakMap"),Gt="[object Map]",Zt="[object Promise]",Jt="[object Set]",Qt="[object WeakMap]",Xt="[object DataView]",Yt=le(Wt),er=le(ge),tr=le(Ht),rr=le($t),nr=le(qt),or=ee;(Wt&&or(new Wt(new ArrayBuffer(1)))!=Xt||ge&&or(new ge)!=Gt||Ht&&or(Ht.resolve())!=Zt||$t&&or(new $t)!=Jt||qt&&or(new qt)!=Qt)&&(or=function(e){var t=ee(e),r="[object Object]"==t?e.constructor:void 0,n=r?le(r):"";if(n)switch(n){case Yt:return Xt;case er:return Gt;case tr:return Zt;case rr:return Jt;case nr:return Qt}return t});var ar=or,ir=Object.prototype.hasOwnProperty;var ur=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ir.call(e,"index")&&(r.index=e.index,r.input=e.input),r},lr=W.Uint8Array;var cr=function(e){var t=new e.constructor(e.byteLength);return new lr(t).set(new lr(e)),t};var sr=function(e,t){var r=t?cr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},fr=/\w*$/;var dr=function(e){var t=new e.constructor(e.source,fr.exec(e));return t.lastIndex=e.lastIndex,t},pr=H?H.prototype:void 0,vr=pr?pr.valueOf:void 0;var hr=function(e){return vr?Object(vr.call(e)):{}};var yr=function(e,t){var r=t?cr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var br=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return cr(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return sr(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return yr(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return dr(e);case"[object Symbol]":return hr(e)}},gr=Object.create,mr=function(){function e(){}return function(t){if(!te(t))return{};if(gr)return gr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var wr=function(e){return"function"!=typeof e.constructor||yt(e)?{}:mr(zt(e))};var jr=function(e){return Ge(e)&&"[object Map]"==ar(e)},kr=st&&st.isMap,Or=kr?ct(kr):jr;var Cr=function(e){return Ge(e)&&"[object Set]"==ar(e)},Er=st&&st.isSet,_r=Er?ct(Er):Cr,Sr="[object Arguments]",Pr="[object Function]",xr="[object Object]",Br={};Br[Sr]=Br["[object Array]"]=Br["[object ArrayBuffer]"]=Br["[object DataView]"]=Br["[object Boolean]"]=Br["[object Date]"]=Br["[object Float32Array]"]=Br["[object Float64Array]"]=Br["[object Int8Array]"]=Br["[object Int16Array]"]=Br["[object Int32Array]"]=Br["[object Map]"]=Br["[object Number]"]=Br[xr]=Br["[object RegExp]"]=Br["[object Set]"]=Br["[object String]"]=Br["[object Symbol]"]=Br["[object Uint8Array]"]=Br["[object Uint8ClampedArray]"]=Br["[object Uint16Array]"]=Br["[object Uint32Array]"]=!0,Br["[object Error]"]=Br[Pr]=Br["[object WeakMap]"]=!1;var Ar=function e(t,r,n,o,a,i){var u,l=1&r,c=2&r,s=4&r;if(n&&(u=a?n(t,o,a,i):n(t)),void 0!==u)return u;if(!te(t))return t;var f=tt(t);if(f){if(u=ur(t),!l)return Bt(t,u)}else{var d=ar(t),p=d==Pr||"[object GeneratorFunction]"==d;if(nt(t))return xt(t,l);if(d==xr||d==Sr||p&&!a){if(u=c||p?{}:wr(t),!l)return c?Vt(t,Pt(u,t)):Tt(t,Ot(u,t))}else{if(!Br[d])return a?t:{};u=br(t,d,l)}}i||(i=new Ve);var v=i.get(t);if(v)return v;i.set(t,u),_r(t)?t.forEach((function(o){u.add(e(o,r,n,o,t,i))})):Or(t)&&t.forEach((function(o,a){u.set(a,e(o,r,n,a,t,i))}));var h=f?void 0:(s?c?Rt:Ut:c?St:kt)(t);return Ie(h||t,(function(o,a){h&&(o=t[a=o]),He(u,a,e(o,r,n,a,t,i))})),u};var Dr=function(e){return"symbol"==typeof e||Ge(e)&&"[object Symbol]"==ee(e)},Mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fr=/^\w*$/;var Lr=function(e,t){if(tt(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Dr(e))||(Fr.test(e)||!Mr.test(e)||null!=t&&e in Object(t))};function Tr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(Tr.Cache||Ke),r}Tr.Cache=Ke;var Kr=Tr;var zr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nr=/\\(\\)?/g,Vr=function(e){var t=Kr(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(zr,(function(e,r,n,o){t.push(n?o.replace(Nr,"$1"):r||e)})),t})),Ir=H?H.prototype:void 0,Ur=Ir?Ir.toString:void 0;var Rr=function e(t){if("string"==typeof t)return t;if(tt(t))return E(t,e)+"";if(Dr(t))return Ur?Ur.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var Wr=function(e){return null==e?"":Rr(e)};var Hr=function(e,t){return tt(e)?e:Lr(e,t)?[e]:Vr(Wr(e))};var $r=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var qr=function(e){if("string"==typeof e||Dr(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Gr=function(e,t){for(var r=0,n=(t=Hr(t,e)).length;null!=e&&r<n;)e=e[qr(t[r++])];return r&&r==n?e:void 0};var Zr=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a};var Jr=function(e,t){return t.length<2?e:Gr(e,Zr(t,0,-1))};var Qr=function(e,t){return t=Hr(t,e),null==(e=Jr(e,t))||delete e[qr($r(t))]},Xr=Function.prototype,Yr=Object.prototype,en=Xr.toString,tn=Yr.hasOwnProperty,rn=en.call(Object);var nn=function(e){if(!Ge(e)||"[object Object]"!=ee(e))return!1;var t=zt(e);if(null===t)return!0;var r=tn.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&en.call(r)==rn};var on=function(e){return nn(e)?void 0:e},an=H?H.isConcatSpreadable:void 0;var un=function(e){return tt(e)||et(e)||!!(an&&e&&e[an])};var ln=function e(t,r,n,o,a){var i=-1,u=t.length;for(n||(n=un),a||(a=[]);++i<u;){var l=t[i];r>0&&n(l)?r>1?e(l,r-1,n,o,a):Kt(a,l):o||(a[a.length]=l)}return a};var cn=function(e){return(null==e?0:e.length)?ln(e,1):[]};var sn=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},fn=Math.max;var dn=function(e,t,r){return t=fn(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=fn(n.length-t,0),i=Array(a);++o<a;)i[o]=n[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=n[o];return u[t]=r(i),sn(e,this,u)}};var pn=function(e){return function(){return e}};var vn=function(e){return e},hn=Ue?function(e,t){return Ue(e,"toString",{configurable:!0,enumerable:!1,value:pn(t),writable:!0})}:vn,yn=Date.now;var bn=function(e){var t=0,r=0;return function(){var n=yn(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},gn=bn(hn);var mn=function(e){return gn(dn(e,void 0,cn),e+"")}((function(e,t){var r={};if(null==e)return r;var n=!1;t=E(t,(function(t){return t=Hr(t,e),n||(n=t.length>1),t})),$e(e,Rt(e),r),n&&(r=Ar(r,7,on));for(var o=t.length;o--;)Qr(r,t[o]);return r}));const wn=(0,i.MT)("event-editor")({blur:null,focus:null,last:null}),jn=wn.set,kn=wn.get,On=(wn.use,"plate"),Cn=Symbol("global-plate"),En=(0,n.cn)(On),{plateStore:_n,usePlateStore:Sn}=(({decorate:e=null,editor:t=null,id:r,isRendered:o=!1,keyDecorate:a="1",keyEditor:i="1",keySelection:l="1",onChange:c=null,editorRef:s=null,plugins:f=[],rawPlugins:d=[],readOnly:p=!1,renderElement:v=null,renderLeaf:h=null,value:y=null,...g}={})=>{const m=b({decorate:e,editor:t,id:r,isRendered:o,keyDecorate:a,keyEditor:i,keySelection:l,onChange:c,editorRef:s,plugins:f,rawPlugins:d,readOnly:p,renderElement:v,renderLeaf:h,value:y,...g},{scope:On,name:"plate"});return{plateStore:m.plateStore,usePlateStore:e=>{const t=(0,n.KO)(En,Cn)[0];return(0,u.$K)(e)||m.usePlateStore(e).get.id(e)?m.usePlateStore(e):m.usePlateStore(t)}}})(),Pn=e=>Sn(e).get,xn=e=>Sn(e).set,Bn=(e,t)=>{const r=xn(t)[e]();return(0,o.useCallback)((()=>{r((0,a.x0)())}),[r])},An=({node:e,path:t=[],source:r,apply:n,query:o})=>{const a=[e,t];(0,c.Vq)(a,o)&&n(e,r instanceof Function?r():r),(0,c.jg)(e)&&e.children.forEach(((e,a)=>{An({node:e,path:t.concat([a]),source:r,apply:n,query:o})}))};var Dn=function(e,t){return gn(dn(e,t,vn),e+"")};var Mn=function(e,t,r){(void 0!==r&&!S(e[t],r)||void 0===r&&!(t in e))&&Re(e,t,r)};var Fn=function(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),u=i.length;u--;){var l=i[e?u:++o];if(!1===r(a[l],l,a))break}return t}}();var Ln=function(e){return Ge(e)&&jt(e)};var Tn=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var Kn=function(e){return $e(e,St(e))};var zn=function(e,t,r,n,o,a,i){var u=Tn(e,r),l=Tn(t,r),c=i.get(l);if(c)Mn(e,r,c);else{var s=a?a(u,l,r+"",e,t,i):void 0,f=void 0===s;if(f){var d=tt(l),p=!d&&nt(l),v=!d&&!p&&dt(l);s=l,d||p||v?tt(u)?s=u:Ln(u)?s=Bt(u):p?(f=!1,s=xt(l,!0)):v?(f=!1,s=yr(l,!0)):s=[]:nn(l)||et(l)?(s=u,et(u)?s=Kn(u):te(u)&&!ne(u)||(s=wr(l))):f=!1}f&&(i.set(l,s),o(s,l,n,a,i),i.delete(l)),Mn(e,r,s)}};var Nn=function e(t,r,n,o,a){t!==r&&Fn(r,(function(i,u){if(a||(a=new Ve),te(i))zn(t,r,u,n,e,o,a);else{var l=o?o(Tn(t,u),i,u+"",t,r,a):void 0;void 0===l&&(l=i),Mn(t,u,l)}}),St)};var Vn=function e(t,r,n,o,a,i){return te(t)&&te(r)&&(i.set(r,t),Nn(t,r,void 0,e,i),i.delete(r)),t};var In=function(e,t,r){if(!te(r))return!1;var n=typeof t;return!!("number"==n?jt(r)&&at(t,r.length):"string"==n&&t in r)&&S(r[t],e)};var Un=function(e){return Dn((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,i&&In(r[0],r[1],i)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var u=r[n];u&&e(t,u,n,a)}return t}))},Rn=Un((function(e,t,r,n){Nn(e,t,r,n)})),Wn=Dn((function(e){return e.push(void 0,Vn),sn(Rn,void 0,e)}));const Hn=(e,t={},r=!1)=>{var n;if(t[e.key]){const{plugins:n,then:o,...a}=t[e.key];e=Wn(a,e),r||null==n||n.forEach((t=>{e.plugins||(e.plugins=[]);e.plugins.find((e=>e.key===t.key))||e.plugins.push(t)}))}e.plugins&&(e.plugins=e.plugins.map((e=>Hn(e,t,!0))));const{then:o}=e;return o?(void 0===e._thenReplaced&&(e._thenReplaced=0),e._thenReplaced<3&&(e.then=(r,n)=>{const a={key:e.key,...o(r,n)};return Wn(Hn(a,t),a)},e._thenReplaced++)):null!==(n=t[e.key])&&void 0!==n&&n.then&&(e.then=t[e.key].then),e},$n=e=>(t,r={})=>(r[e.key]=t,Hn({...e},r)),qn="deserializeAst",Gn=$n({key:qn,editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:e})=>{const t=decodeURIComponent(window.atob(e));let r;try{r=JSON.parse(t)}catch(e){}return r}}}}),Zn=(e,t)=>{var r;const{selection:n}=e;if(!n)return!1;const o=null===(r=((e,t={})=>(0,c.Zg)(e,{...t,block:!0}))(e,t))||void 0===r?void 0:r[1];return!!o&&((0,c.Vi)(e,n.focus,o)||(0,c.ul)(e.selection)&&(0,c.Vi)(e,n.anchor,o))},Jn="editorProtocol",Qn=$n({key:Jn,withOverrides:e=>{const{deleteBackward:t,deleteForward:r,deleteFragment:n}=e,o=()=>{Zn(e)&&(e=>{const t=(0,c._6)(e);t&&Object.keys(t).forEach((t=>{(0,c.Ho)(e,t)}))})(e)};return e.deleteBackward=e=>{t(e),o()},e.deleteForward=e=>{r(e),o()},e.deleteFragment=e=>{n(e),o()},e}}),Xn="event-editor",Yn=$n({key:Xn,handlers:{onFocus:e=>()=>{jn.focus(e.id)},onBlur:e=>()=>{kn.focus()===e.id&&jn.focus(null),jn.blur(e.id)}}}),eo=$n({key:"history",withOverrides:e=>(0,s.VC)(e)}),to="inline-void",ro=$n({key:to,withOverrides:e=>{const{isInline:t}=e,{isVoid:r}=e,n=[],o=[];return e.plugins.forEach((e=>{e.isInline&&n.push(e.type),e.isVoid&&o.push(e.type)})),e.isInline=e=>!!n.includes(e.type)||t(e),e.isVoid=e=>!!o.includes(e.type)||r(e),e}}),no=(e,t)=>{const r=[];return[...e.plugins].reverse().forEach((e=>{var n;const o=null===(n=e.inject.pluginsByKey)||void 0===n?void 0:n[t.key];o&&r.push(o)})),[t,...r]},oo="insertData",ao=$n({key:oo,withOverrides:e=>{const{insertData:t}=e;return e.insertData=r=>{const n=[...e.plugins].reverse().some((t=>{var n;const o=t.editor.insertData;if(!o)return!1;const a=no(e,t),{format:i,getFragment:u}=o;if(!i)return!1;let l=r.getData(i);if(!l)return;if(!((e,{data:t,dataTransfer:r})=>e.every((e=>{var n,o;const a=null===(n=e.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.query;return!a||a({data:t,dataTransfer:r})})))(a,{data:l,dataTransfer:r}))return!1;l=((e,{data:t,dataTransfer:r})=>(e.forEach((e=>{var n,o;const a=null===(n=e.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.transformData;a&&(t=a(t,{dataTransfer:r}))})),t))(a,{data:l,dataTransfer:r});let s=null==u?void 0:u({data:l,dataTransfer:r});return!(null===(n=s)||void 0===n||!n.length)&&(s=((e,{fragment:t,...r})=>(e.forEach((e=>{var n,o;const a=null===(n=e.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.transformFragment;a&&(t=a(t,r))})),t))(a,{fragment:s,data:l,dataTransfer:r}),0!==s.length&&(((e,t,{fragment:r,...n})=>{(0,c.kR)(e,(()=>{t.some((e=>{var t,o,a;return!0===(null===(t=e.editor)||void 0===t||null===(o=t.insertData)||void 0===o||null===(a=o.preInsert)||void 0===a?void 0:a.call(o,r,n))})),e.insertFragment(r)}))})(e,a,{fragment:s,data:l,dataTransfer:r}),!0))}));n||t(r)},e}}),io="p",uo="nodeFactory",lo=$n({key:uo,withOverrides:e=>(e.blockFactory=t=>({type:vo(e,io),children:[{text:""}],...t}),e.childrenFactory=()=>[e.blockFactory()],e)}),co="prevSelection",so=$n({key:co,handlers:{onKeyDown:e=>t=>{t.persist(),e.currentKeyboardEvent=t}},withOverrides:e=>{const{apply:t}=e;return e.apply=r=>{if("set_selection"===r.type){const{properties:n}=r;return e.prevSelection=n,t(r),void(e.currentKeyboardEvent=null)}t(r)},e}}),fo=$n({key:"react",withOverrides:e=>(0,f.BU)(e)}),po=(e,t)=>{var r;return null!==(r=(e=>{var t;return null!==(t=null==e?void 0:e.pluginsByKey)&&void 0!==t?t:{}})(e)[t])&&void 0!==r?r:{key:t}},vo=(e,t)=>{var r,n;return null!==(r=null!==(n=po(e,t).type)&&void 0!==n?n:t)&&void 0!==r?r:""},ho=(e,t,r)=>(e=((e,t,r)=>{const n=((e,t)=>e.some(((e,r,n)=>{const o=n[r-1];return 0!==r&&t(e)!==t(o)})))(e,t),{fragment:o}=e.reduce(((e,o)=>{if(n&&t(o)){let t=e.precedingBlock;t||(t=r(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(o)}else e.fragment.push(o),e.precedingBlock=null;return e}),{fragment:[],precedingBlock:null});return o})(e=(e=>0===e.length?[{text:""}]:e)(e),t,r),e=e.map((e=>(0,c.kK)(e)?{...e,children:ho(e.children,t,r)}:e))),yo=(e,{descendants:t})=>{const r=(e=>t=>(0,c.Gs)(t)||(0,c.kK)(t)&&e.isInline(t))(e),n=vo(e,io),o=(a=n,()=>({type:a,children:[]}));var a;return ho(t,r,o)};function bo(e){return"[object Object]"===Object.prototype.toString.call(e)}function go(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mo=new WeakMap,wo=new WeakMap;class jo{}class ko extends jo{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}}class Oo extends jo{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}}var Co=e=>wo.get(e);function Eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(r),!0).forEach((function(t){go(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var So=new WeakSet,Po=e=>{var t=[],r=e=>{if(null!=e){var n=t[t.length-1];if("string"==typeof e){var o={text:e};So.add(o),e=o}if(v.xv.isText(e)){var a=e;v.xv.isText(n)&&So.has(n)&&So.has(a)&&v.xv.equals(n,a,{loose:!0})?n.text+=a.text:t.push(a)}else if(v.W_.isElement(e))t.push(e);else{if(!(e instanceof jo))throw new Error("Unexpected hyperscript child object: ".concat(e));var i=t[t.length-1];v.xv.isText(i)||(r(""),i=t[t.length-1]),e instanceof ko?((e,t)=>{var r=e.text.length;mo.set(e,[r,t])})(i,e):e instanceof Oo&&((e,t)=>{var r=e.text.length;wo.set(e,[r,t])})(i,e)}}};for(var n of e.flat(1/0))r(n);return t};function xo(e,t,r){return _o(_o({},t),{},{children:Po(r)})}function Bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(r),!0).forEach((function(t){go(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Do,Mo={anchor:function(e,t,r){return new ko(t)},cursor:function(e,t,r){return[new ko(t),new Oo(t)]},editor:(Do=v.Jh,(e,t,r)=>{var n,o=[];for(var a of r)v.e6.isRange(a)?n=a:o.push(a);var i,u=Po(o),l={},c=Do();for(var[s,f]of(Object.assign(c,t),c.children=u,v.NB.texts(c))){var d=(i=s,mo.get(i)),p=Co(s);if(null!=d){var[h]=d;l.anchor={path:f,offset:h}}if(null!=p){var[y]=p;l.focus={path:f,offset:y}}}if(l.anchor&&!l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!l.anchor&&l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=n?c.selection=n:v.e6.isRange(l)&&(c.selection=l),c}),element:xo,focus:function(e,t,r){return new Oo(t)},fragment:function(e,t,r){return Po(r)},selection:function(e,t,r){var n=r.find((e=>e instanceof ko)),o=r.find((e=>e instanceof Oo));if(!n||null==n.offset||null==n.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return _o({anchor:{offset:n.offset,path:n.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,r){var n=Po(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=n;if(null==o&&(o={text:""}),!v.xv.isText(o))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return So.delete(o),Object.assign(o,t),o}},Fo=e=>function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var i,u,l,c=e[t];if(!c)throw new Error("No hyperscript creator found for tag: <".concat(t,">"));return null==r&&(r={}),(!1===bo(i=r)||void 0!==(u=i.constructor)&&(!1===bo(l=u.prototype)||!1===l.hasOwnProperty("isPrototypeOf")))&&(o=[r].concat(o),r={}),c(t,r,o=o.filter((e=>Boolean(e))).flat())},Lo=e=>{var t={},r=function(r){var n=e[r];if("object"!=typeof n)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(n));t[r]=(e,t,r)=>xo(0,Ao(Ao({},n),t),r)};for(var n in e)r(n);return t},To=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,r=Lo(t),n=Ao(Ao(Ao({},Mo),r),e.creators);return Fo(n)}();const Ko=(e,t)=>Array.from(t.childNodes).flatMap(Wo(e));var zo=function(){if(!arguments.length)return[];var e=arguments[0];return tt(e)?e:[e]};const No=(e,t,{element:r,deserializeLeaf:n})=>{var o;const{deserializeHtml:a,isElement:i,isLeaf:l,type:c}=t;if(!a)return;const{attributeNames:s,query:f,isLeaf:d,isElement:p,rules:v}=a;let{getNode:h}=a;const y=p||i,b=d||l;if(!n&&!y)return;if(n&&!b)return;if(v){if(!v.some((({validNodeName:e="*",validStyle:n,validClassName:o,validAttribute:a})=>{if(e){const t=zo(e);if(t.length>0&&!t.includes(r.nodeName)&&"*"!==e)return!1}if(o&&!r.classList.contains(o))return!1;if(n)for(const[e,o]of Object.entries(n)){var i;if(!zo(o).includes(r.style[e])&&"*"!==o)return;if("*"===o&&!r.style[e])return;const n=null===(i=t.inject.props)||void 0===i?void 0:i.defaultNodeValue;if(n&&n===r.style[e])return!1}if(a)if("string"==typeof a){if(!r.getAttributeNames().includes(a))return!1}else for(const[e,t]of Object.entries(a)){const n=zo(t),o=r.getAttribute(e);if(!(0,u.$K)(o)||!n.includes(o))return!1}return!0})))return}if(f&&!f(r))return;if(!h)if(y)h=()=>({type:c});else{if(!b)return;h=()=>({[c]:!0})}let g=null!==(o=h(r,{}))&&void 0!==o?o:{};if(0===Object.keys(g).length)return;if(no(e,t).forEach((e=>{var t,n;const o=null===(t=e.deserializeHtml)||void 0===t||null===(n=t.getNode)||void 0===n?void 0:n.call(t,r,g);o&&(g={...g,...o})})),s){const e={},t=r.getAttributeNames();for(const n of t)s.includes(n)&&(e[n]=r.getAttribute(n));Object.keys(e).length>0&&(g.attributes=e)}return{...a,node:g}},Vo=(e,t)=>{const r=((e,t)=>{let r;return[...e.plugins].reverse().some((n=>(r=No(e,n,{element:t}),!!r))),r})(e,t);if(r){var n;const{node:o,withoutChildren:a}=r;let i=null!==(n=o.children)&&void 0!==n?n:Ko(e,t);return(0===i.length||a)&&(i=[{text:""}]),To("element",o,i)}},Io=(e,t)=>{const r=((e,t)=>{let r={};return[...e.plugins].reverse().forEach((n=>{const o=No(e,n,{element:t,deserializeLeaf:!0});o&&(r={...r,...o.node})})),r})(e,t);return Ko(e,t).reduce(((e,t)=>{if(!t)return e;if((0,c.kK)(t))Object.keys(r).length>0&&ti({node:t,source:r,query:{filter:([e])=>(0,c.Gs)(e)}}),e.push(t);else{const n={...r};(0,c.Gs)(t)&&t.text&&Object.keys(n).forEach((e=>{n[e]&&t[e]&&(n[e]=t[e])})),e.push(To("text",n,t))}return e}),[])},Uo=e=>e.nodeType===Node.TEXT_NODE,Ro=e=>e.nodeType===Node.ELEMENT_NODE,Wo=e=>t=>{const r=(e=>{if(Uo(e)){var t,r;const n=null!==(t=null===(r=e.textContent)||void 0===r?void 0:r.replace(/^\n+|\n+$/g,""))&&void 0!==t?t:"";return n.length>0?n:null}})(t);if(r)return r;if(!Ro(t))return null;const n=(e=>{if("BR"===e.nodeName)return"\n"})(t);if(n)return n;const o=((e,t)=>{if("BODY"===t.nodeName)return To("fragment",{},Ko(e,t))})(e,t);if(o)return o;const a=Vo(e,t);return a||Io(e,t)},Ho=(e,{element:t,stripWhitespace:r=!0})=>{"string"==typeof t&&(t=((e,t=!0)=>{const r=document.createElement("body");return r.innerHTML=e,t&&(r.innerHTML=r.innerHTML.replaceAll(/(\r\n|[\t\n\r])/g,"")),r})(t,r));const n=((e,t)=>Wo(e)(t))(e,t);return yo(e,{descendants:n})},$o=e=>(new DOMParser).parseFromString(e,"text/html"),qo="deserializeHtml",Go=$n({key:qo,then:e=>({editor:{insertData:{format:"text/html",getFragment:({data:t})=>{const r=$o(t);return Ho(e,{element:r.body})}}}})});new Set(["BR","IMG","TH","TD"]);var Zo=function(e,t,r,n){for(var o=-1,a=null==e?0:e.length;++o<a;){var i=e[o];t(n,i,r(i),e)}return n};var Jo=function(e,t){return function(r,n){if(null==r)return r;if(!jt(r))return e(r,n);for(var o=r.length,a=t?o:-1,i=Object(r);(t?a--:++a<o)&&!1!==n(i[a],a,i););return r}}((function(e,t){return e&&Fn(e,t,kt)}));var Qo=function(e,t,r,n){return Jo(e,(function(e,o,a){t(n,e,r(e),a)})),n};var Xo=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Yo=function(e){return this.__data__.has(e)};function ea(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ke;++t<r;)this.add(e[t])}ea.prototype.add=ea.prototype.push=Xo,ea.prototype.has=Yo;var ta=ea;var ra=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var na=function(e,t){return e.has(t)};var oa=function(e,t,r,n,o,a){var i=1&r,u=e.length,l=t.length;if(u!=l&&!(i&&l>u))return!1;var c=a.get(e),s=a.get(t);if(c&&s)return c==t&&s==e;var f=-1,d=!0,p=2&r?new ta:void 0;for(a.set(e,t),a.set(t,e);++f<u;){var v=e[f],h=t[f];if(n)var y=i?n(h,v,f,t,e,a):n(v,h,f,e,t,a);if(void 0!==y){if(y)continue;d=!1;break}if(p){if(!ra(t,(function(e,t){if(!na(p,t)&&(v===e||o(v,e,r,n,a)))return p.push(t)}))){d=!1;break}}else if(v!==h&&!o(v,h,r,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d};var aa=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var ia=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},ua=H?H.prototype:void 0,la=ua?ua.valueOf:void 0;var ca=function(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new lr(e),new lr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return S(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=aa;case"[object Set]":var l=1&n;if(u||(u=ia),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=2,i.set(e,t);var s=oa(u(e),u(t),n,o,a,i);return i.delete(e),s;case"[object Symbol]":if(la)return la.call(e)==la.call(t)}return!1},sa=Object.prototype.hasOwnProperty;var fa=function(e,t,r,n,o,a){var i=1&r,u=Ut(e),l=u.length;if(l!=Ut(t).length&&!i)return!1;for(var c=l;c--;){var s=u[c];if(!(i?s in t:sa.call(t,s)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);for(var v=i;++c<l;){var h=e[s=u[c]],y=t[s];if(n)var b=i?n(y,h,s,t,e,a):n(h,y,s,e,t,a);if(!(void 0===b?h===y||o(h,y,r,n,a):b)){p=!1;break}v||(v="constructor"==s)}if(p&&!v){var g=e.constructor,m=t.constructor;g==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(p=!1)}return a.delete(e),a.delete(t),p},da="[object Arguments]",pa="[object Array]",va="[object Object]",ha=Object.prototype.hasOwnProperty;var ya=function(e,t,r,n,o,a){var i=tt(e),u=tt(t),l=i?pa:ar(e),c=u?pa:ar(t),s=(l=l==da?va:l)==va,f=(c=c==da?va:c)==va,d=l==c;if(d&&nt(e)){if(!nt(t))return!1;i=!0,s=!1}if(d&&!s)return a||(a=new Ve),i||dt(e)?oa(e,t,r,n,o,a):ca(e,t,l,r,n,o,a);if(!(1&r)){var p=s&&ha.call(e,"__wrapped__"),v=f&&ha.call(t,"__wrapped__");if(p||v){var h=p?e.value():e,y=v?t.value():t;return a||(a=new Ve),o(h,y,r,n,a)}}return!!d&&(a||(a=new Ve),fa(e,t,r,n,o,a))};var ba=function e(t,r,n,o,a){return t===r||(null==t||null==r||!Ge(t)&&!Ge(r)?t!=t&&r!=r:ya(t,r,n,o,e,a))};var ga=function(e,t,r,n){var o=r.length,a=o,i=!n;if(null==e)return!a;for(e=Object(e);o--;){var u=r[o];if(i&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var l=(u=r[o])[0],c=e[l],s=u[1];if(i&&u[2]){if(void 0===c&&!(l in e))return!1}else{var f=new Ve;if(n)var d=n(c,s,l,e,t,f);if(!(void 0===d?ba(s,c,3,n,f):d))return!1}}return!0};var ma=function(e){return e==e&&!te(e)};var wa=function(e){for(var t=kt(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,ma(o)]}return t};var ja=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}};var ka=function(e){var t=wa(e);return 1==t.length&&t[0][2]?ja(t[0][0],t[0][1]):function(r){return r===e||ga(r,e,t)}};var Oa=function(e,t,r){var n=null==e?void 0:Gr(e,t);return void 0===n?r:n};var Ca=function(e,t){return null!=e&&t in Object(e)};var Ea=function(e,t,r){for(var n=-1,o=(t=Hr(t,e)).length,a=!1;++n<o;){var i=qr(t[n]);if(!(a=null!=e&&r(e,i)))break;e=e[i]}return a||++n!=o?a:!!(o=null==e?0:e.length)&&it(o)&&at(i,o)&&(tt(e)||et(e))};var _a=function(e,t){return null!=e&&Ea(e,t,Ca)};var Sa=function(e,t){return Lr(e)&&ma(t)?ja(qr(e),t):function(r){var n=Oa(r,e);return void 0===n&&n===t?_a(r,e):ba(t,n,3)}};var Pa=function(e){return function(t){return null==t?void 0:t[e]}};var xa=function(e){return function(t){return Gr(t,e)}};var Ba=function(e){return Lr(e)?Pa(qr(e)):xa(e)};var Aa=function(e){return"function"==typeof e?e:null==e?vn:"object"==typeof e?tt(e)?Sa(e[0],e[1]):ka(e):Ba(e)};var Da=function(e,t){return function(r,n){var o=tt(r)?Zo:Qo,a=t?t():{};return o(r,e,Aa(n),a)}}((function(e,t,r){Re(e,r,t)})),Ma=Un((function(e,t,r){Nn(e,t,r)}));var Fa=function(e,t){return E(t,(function(t){return e[t]}))};var La=function(e){return null==e?[]:Fa(e,kt(e))};const Ta=(e,t)=>{const r={...t},{then:n}=r;if(n){delete r.then;const{plugins:t}=r,o=Ta(e,Wn(n(e,r),r));if(t&&o.plugins){const e=Ma(Da(t,"key"),Da(o.plugins,"key"));o.plugins=La(e)}return o}return r},Ka=(e,t)=>{t&&t.forEach((t=>{let r=(e=>(void 0===e.type&&(e.type=e.key),e.options||(e.options={}),e.inject||(e.inject={}),e.editor||(e.editor={}),e))(t);if(r=Ta(e,r),!1!==r.enabled){if(e.pluginsByKey[r.key]){const t=e.plugins.indexOf(e.pluginsByKey[r.key]),n=Wn(r,e.pluginsByKey[r.key]);t>=0&&(e.plugins[t]=n),e.pluginsByKey[r.key]=n}else e.plugins.push(r),e.pluginsByKey[r.key]=r;Ka(e,r.plugins)}}))},za=(e,{disableCorePlugins:t,plugins:r=[]})=>{let n=[];if(!0!==t){const r=t;var o,a,i,u,l,c,s,f,d,p,v,h,y,b,g,m,w,j,k,O;if("object"!=typeof r||null==r||!r.react)n.push(null!==(o=null==e||null===(a=e.pluginsByKey)||void 0===a?void 0:a.react)&&void 0!==o?o:fo());if("object"!=typeof r||null==r||!r.history)n.push(null!==(i=null==e||null===(u=e.pluginsByKey)||void 0===u?void 0:u.history)&&void 0!==i?i:eo());if("object"!=typeof r||null==r||!r.nodeFactory)n.push(null!==(l=null==e||null===(c=e.pluginsByKey)||void 0===c?void 0:c[uo])&&void 0!==l?l:lo());if("object"!=typeof r||null==r||!r.eventEditor)n.push(null!==(s=null==e||null===(f=e.pluginsByKey)||void 0===f?void 0:f[Xn])&&void 0!==s?s:Yn());if("object"!=typeof r||null==r||!r.inlineVoid)n.push(null!==(d=null==e||null===(p=e.pluginsByKey)||void 0===p?void 0:p[to])&&void 0!==d?d:ro());if("object"!=typeof r||null==r||!r.insertData)n.push(null!==(v=null==e||null===(h=e.pluginsByKey)||void 0===h?void 0:h[oo])&&void 0!==v?v:ao());if("object"!=typeof r||null==r||!r.selection)n.push(null!==(y=null==e||null===(b=e.pluginsByKey)||void 0===b?void 0:b[co])&&void 0!==y?y:so());if("object"!=typeof r||null==r||!r.deserializeHtml)n.push(null!==(g=null==e||null===(m=e.pluginsByKey)||void 0===m?void 0:m[qo])&&void 0!==g?g:Go());if("object"!=typeof r||null==r||!r.deserializeAst)n.push(null!==(w=null==e||null===(j=e.pluginsByKey)||void 0===j?void 0:j[qn])&&void 0!==w?w:Gn());if("object"!=typeof r||null==r||!r.editorProtocol)n.push(null!==(k=null==e||null===(O=e.pluginsByKey)||void 0===O?void 0:O[Jn])&&void 0!==k?k:Qn())}n=[...n,...r],e.plugins=[],e.pluginsByKey={},Ka(e,n),e.plugins.forEach((t=>{if(t.overrideByKey){const r=e.plugins.map((e=>Hn(e,t.overrideByKey)));e.plugins=[],e.pluginsByKey={},Ka(e,r)}}))},Na=e=>()=>{console.warn(`editor.${e} should have been overriden but was not. Please report this issue here: https://github.com/udecode/plate/issues`)};var Va=function(e){return Ar(e,5)};const Ia=(e,{components:t,overrideByKey:r}={})=>{let n={};return r&&(n=Va(r)),t&&Object.keys(t).forEach((e=>{n[e]||(n[e]={}),n[e].component=t[e]})),Object.keys(n).length>0?e.map((e=>Hn(e,n))):e},Ua=({editor:e=(0,c.tc)(),plugins:t=[],components:r,overrideByKey:n,normalizeInitialValue:o,...a}={})=>{const i=((e,{id:t,plugins:r=[],disableCorePlugins:n}={})=>{let o=e;return o.id=null!=t?t:o.id,o.prevSelection=null,o.currentKeyboardEvent=null,o.reset=()=>Na("reset"),o.redecorate=()=>Na("redecorate"),o.plate={get set(){return null}},o.key||(o.key=Math.random()),za(o,{plugins:r,disableCorePlugins:n}),o.plugins.forEach((e=>{e.withOverrides&&(o=e.withOverrides(o,e))})),o})(e,{plugins:t=Ia(t,{components:r,overrideByKey:n}),...a});return o&&(0,c.Nh)(i,{force:!0}),i},Ra=(e,t)=>{var r;return null!==(r=po(e,t).options)&&void 0!==r?r:{}},Wa=e=>`slate-${e}`,Ha=({attributes:e,nodeProps:t,props:r,type:n})=>{let o={};var a;r&&(o=null!==(a="function"==typeof r?r(t):r)&&void 0!==a?a:{});!o.nodeProps&&e&&(o.nodeProps=e),(t={...t,...o}).nodeProps&&Object.keys(t.nodeProps).forEach((e=>{var r,n;void 0===(null===(r=t.nodeProps)||void 0===r?void 0:r[e])&&(null===(n=t.nodeProps)||void 0===n||delete n[e])}));const{className:i}=t;return{...t,className:(0,d.Z)(Wa(n),i)}};var $a,qa=I((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},n=()=>({add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:"undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"}),o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)o["f"+a]=111+a;function i(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return u(e,t)})),o=function(e){return n.some((function(t){return l(t,e)}))};return null==r?o:o(r)}function u(e,t){var n=t&&t.byKey,o={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var u in r)o[r[u]]=!1;var l=!0,f=!1,d=void 0;try{for(var p,v=a[Symbol.iterator]();!(l=(p=v.next()).done);l=!0){var h=p.value,y=h.endsWith("?")&&h.length>1;y&&(h=h.slice(0,-1));var b=s(h),g=r[b];1!==i&&g||(n?o.key=b:o.which=c(h)),g&&(o[g]=!y||null)}}catch(e){f=!0,d=e}finally{try{!l&&v.return&&v.return()}finally{if(f)throw d}}return o}function l(e,t){for(var r in e){var n=e[r],o=void 0;if(null!=n&&((null!=(o="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&o!==n))return!1}return!0}function c(e){return e=s(e),o[e]||e.toUpperCase().charCodeAt(0)}function s(e){return e=e.toLowerCase(),e=n()[e]||e}t.default=i,t.isHotkey=i,t.isCodeHotkey=function(e,t){return i(e,t)},t.isKeyHotkey=function(e,t){return i(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=l,t.toKeyCode=c,t.toKeyName=s}));($a=qa)&&$a.__esModule&&Object.prototype.hasOwnProperty.call($a,"default")&&$a.default,qa.isHotkey,qa.isCodeHotkey;var Ga=qa.isKeyHotkey;qa.parseHotkey,qa.compareHotkey,qa.toKeyCode,qa.toKeyName;const Za={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",untab:"shift+tab",undo:"mod+z"},Ja={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Qa={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Xa=e=>{const t=Za[e],r=Ja[e],n=Qa[e],o=t&&Ga(t),a=r&&Ga(r),i=n&&Ga(n);return e=>!(!o||!o(e))||(!!(u.jB&&a&&a(e))||!(u.jB||!i||!i(e)))},Ya=e=>(t,r,{composing:n}={})=>!!Xa(e)(r)&&!!n===(0,p.bH)(t),ei={isBold:Xa("bold"),isCompose:Xa("compose"),isMoveBackward:Xa("moveBackward"),isMoveForward:Xa("moveForward"),isDeleteBackward:Xa("deleteBackward"),isDeleteForward:Xa("deleteForward"),isDeleteLineBackward:Xa("deleteLineBackward"),isDeleteLineForward:Xa("deleteLineForward"),isDeleteWordBackward:Xa("deleteWordBackward"),isDeleteWordForward:Xa("deleteWordForward"),isExtendBackward:Xa("extendBackward"),isExtendForward:Xa("extendForward"),isExtendLineBackward:Xa("extendLineBackward"),isExtendLineForward:Xa("extendLineForward"),isItalic:Xa("italic"),isMoveLineBackward:Xa("moveLineBackward"),isMoveLineForward:Xa("moveLineForward"),isMoveWordBackward:Xa("moveWordBackward"),isMoveWordForward:Xa("moveWordForward"),isRedo:Xa("redo"),isSoftBreak:Xa("insertSoftBreak"),isSplitBlock:Xa("splitBlock"),isTab:Ya("tab"),isTransposeCharacter:Xa("transposeCharacter"),isUndo:Xa("undo"),isUntab:Ya("untab")},ti=e=>{An({...e,apply:Ma})},ri=e=>({key:"",type:"",editor:{},inject:{},options:{},...e});var ni=function(e,t){return ba(e,t)};const oi=(e,t)=>{let r=Va(t);if(e.plugins.forEach((e=>{var t;const n=null===(t=e.normalizeInitialValue)||void 0===t?void 0:t.call(e,r);n&&(r=n)})),!ni(t,r))return r},ai=(e,t)=>{const r=e.plugins.flatMap((t=>{var r,n;return null!==(r=null===(n=t.decorate)||void 0===n?void 0:n.call(t,e,t))&&void 0!==r?r:[]}));if(t&&r.push(t),0!==r.length)return e=>{let t=[];return r.forEach((r=>{var n;null!=(n=r(e))&&n.length&&(t=[...t,...n])})),t}},ii=(e,t)=>{if(!t)return!1;const r=t(e);return null!=r?r:e.isPropagationStopped()},ui=(e,t)=>(e.plugins.forEach((e=>{if(e.inject.props){const r=((e,{key:t,inject:{props:r}},n)=>{var o;const{element:a,text:i,className:u,style:l}=n,s=null!=a?a:i;if(!s)return;if(!r)return;const{nodeKey:f=t,styleKey:p=f,validTypes:v,classNames:h,transformClassName:y,transformNodeValue:b,transformStyle:g,validNodeValues:m,defaultNodeValue:w}=r;if(v&&(0,c.kK)(s)&&s.type&&!v.includes(s.type))return;const j=s[f];if(!j||m&&!m.includes(j)||j===w)return;const k={},O={...n,nodeValue:j},C=null!==(o=null==b?void 0:b(O))&&void 0!==o?o:j;var E,_;return a&&(k.className=(0,d.Z)(u,`slate-${f}-${j}`)),(null!=h&&h[j]||y)&&(k.className=null!==(E=null==y?void 0:y(O))&&void 0!==E?E:(0,d.Z)(u,null==h?void 0:h[C])),p&&(k.style=null!==(_=null==g?void 0:g(O))&&void 0!==_?_:{...l,[p]:C}),k})(0,e,t);r&&(t={...t,...r})}})),{...t,editor:e}),li=(e,t)=>{const r=[];return e.plugins.forEach((t=>{t.isElement&&r.push(((e,{key:t,type:r,component:n,props:a})=>function(i){const{element:u,children:l}=i;if(u.type===r){const c=null!=n?n:f.Qr,s=e.plugins.flatMap((e=>{var t,r;return null!==(t=null===(r=e.inject)||void 0===r?void 0:r.aboveComponent)&&void 0!==t?t:[]})),d=e.plugins.flatMap((e=>{var t,r;return null!==(t=null===(r=e.inject)||void 0===r?void 0:r.belowComponent)&&void 0!==t?t:[]}));i=Ha({attributes:u.attributes,nodeProps:i,props:a,type:r});let p=l;d.forEach((e=>{const r=e({...i,key:t});r&&(p=r({...i,children:p}))}));let v=o.createElement(c,i,p);return s.forEach((e=>{const r=e({...i,key:t});r&&(v=r({...i,children:v}))})),o.createElement(O,{element:u,scope:t},v)}})(e,t))})),function(n){const a=ui(e,n);let i;return r.some((e=>(i=e(a),!!i))),i||(t?t(a):o.createElement(f.Qr,a))}},ci=(e,t)=>{const r=[];return e.plugins.forEach((e=>{e.isLeaf&&e.key&&r.push(((e,{key:t,type:r=t,component:n,props:a})=>function(e){const{leaf:t,children:i}=e;if(t[r]){const u=null!=n?n:C;return e=Ha({attributes:t.attributes,props:a,nodeProps:e,type:r}),o.createElement(u,e,i)}return i})(0,e))})),function(n){const a=ui(e,n);return r.forEach((e=>{const t=e(a);void 0!==t&&(a.children=t)})),t?t(a):o.createElement(C,a)}},si=e=>Pn(e).editor(),fi=e=>(Pn(e).keyEditor(),si(e)),di=e=>(Pn(e).keySelection(),si(e).selection),pi=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vi=({id:e,...t}={})=>{var r,n,a;const i=si(e),c=Pn(e),s=c.keyDecorate(),f=c.readOnly(),d=null===(r=c.decorate())||void 0===r?void 0:r.fn,p=null===(n=c.renderLeaf())||void 0===n?void 0:n.fn,v=null===(a=c.renderElement())||void 0===a?void 0:a.fn,h=(0,o.useMemo)((()=>ai(i,null!=d?d:null==t?void 0:t.decorate)),[null==t?void 0:t.decorate,i,d]),y=(0,o.useMemo)((()=>{if(s&&h)return e=>h(e)}),[h,s]),b=(0,o.useMemo)((()=>li(i,null!=v?v:null==t?void 0:t.renderElement)),[null==t?void 0:t.renderElement,i,v]),g=(0,o.useMemo)((()=>ci(i,null!=p?p:null==t?void 0:t.renderLeaf)),[null==t?void 0:t.renderLeaf,i,p]),m=(0,l.NY)((()=>{const e={decorate:y,renderElement:b,renderLeaf:g};return(0,u.$K)(f)&&(e.readOnly=f),pi.forEach((r=>{const n=((e,{editableProps:t,handlerKey:r})=>{let n=[];n=e.plugins.flatMap((t=>{var n,o,a;return null!==(n=null===(o=t.handlers)||void 0===o||null===(a=o[r])||void 0===a?void 0:a.call(o,e,t))&&void 0!==n?n:[]}));const o=null==t?void 0:t[r];if(0!==n.length||o)return e=>!!n.some((t=>ii(e,t)))||ii(e,o)})(i,{editableProps:t,handlerKey:r});n&&(e[r]=n)})),e}),[y,t,b,g,f]);return(0,l.NY)((()=>({...mn(t,[...pi,"renderElement","renderLeaf"]),...m})),[t,m])},hi=()=>(0,f._7)();var yi=function(e){return void 0===e};const bi=({setState:e,state:t,nextState:r,nextStateValue:n=r})=>{(0,o.useEffect)((()=>{r===t||yi(r)||e(n)}),[e,t,r,n])},gi=({id:e,disableCorePlugins:t,value:r,onChange:n,plugins:a,editorRef:i,decorate:u,renderElement:l,renderLeaf:c,readOnly:s})=>{const f=si(e),d=(e=>Sn(e).use)(e),[p,v]=d.value(),[h,y]=d.editorRef(),[b,g]=d.decorate(),[m,w]=d.renderElement(),[j,k]=d.renderLeaf(),[O,C]=d.rawPlugins(),[,E]=d.plugins(),[_,S]=d.onChange(),[P,x]=d.readOnly();bi({state:p,setState:v,nextState:r}),bi({state:P,setState:x,nextState:s}),bi({state:O,setState:E,nextState:a,nextStateValue:null!=a?a:[]}),bi({state:null==_?void 0:_.fn,setState:S,nextState:n,nextStateValue:n?{fn:n}:null}),bi({state:null==h?void 0:h.ref,setState:y,nextState:i,nextStateValue:i?{ref:i}:null}),bi({state:null==b?void 0:b.fn,setState:g,nextState:u,nextStateValue:u?{fn:u}:null}),bi({state:null==m?void 0:m.fn,setState:w,nextState:l,nextStateValue:l?{fn:l}:null}),bi({state:null==j?void 0:j.fn,setState:k,nextState:c,nextStateValue:c?{fn:c}:null}),(0,o.useEffect)((()=>{a!==O&&(C(O),za(f,{plugins:a,disableCorePlugins:t}),E(f.plugins))}),[t,f,O,a,E,C])},mi=({id:e})=>{var t;const r=si(e),n=Pn(e).value(),a=xn(e).value(),i=null===(t=Pn(e).onChange())||void 0===t?void 0:t.fn,u=(0,o.useCallback)((e=>{const t=(e=>{const t=e.plugins.flatMap((t=>{var r,n,o;return null!==(r=null===(n=t.handlers)||void 0===n||null===(o=n.onChange)||void 0===o?void 0:o.call(n,e,t))&&void 0!==r?r:[]}));return e=>t.some((t=>{if(!t)return!1;const r=t(e);return null!=r&&r}))})(r)(e);t||null==i||i(e),a(e)}),[r,a,i]);return(0,o.useMemo)((()=>({key:r.key,editor:r,onChange:u,value:n,initialValue:n})),[r,u,n])},wi=["readOnly","plugins","onChange","decorate","renderElement","renderLeaf"],ji=({id:e})=>{const t=hi(),r=(e=>{const t=Pn(e).editor(),r=xn(e).editor();return(0,o.useCallback)((()=>{const e=Ua({id:t.id,plugins:t.plugins,disableCorePlugins:!0});r(e)}),[t,r])})(e),n=(e=>{const t=Bn("keyDecorate",e);return(0,o.useCallback)((()=>{t()}),[t])})(e),a=Sn(e),i=Object.fromEntries(wi.map((e=>[e,a.set[e]()]))),u=(0,o.useMemo)((()=>i),[]);return(0,o.useEffect)((()=>{t.reset=r,t.redecorate=n,t.plate={set:u}}),[t,r,n,u]),null};function ki({plugin:e}){var t;const r=hi();return null===(t=e.useHooks)||void 0===t||t.call(e,r,e),null}function Oi({id:e}){var t;const r=xn(e).isRendered(),n=Pn(e).plugins(),a=hi(),i=null===(t=Pn(e).editorRef())||void 0===t?void 0:t.ref;return(0,o.useEffect)((()=>(r(!0),()=>{r(!1)})),[r]),(0,o.useEffect)((()=>"function"==typeof i?(i(a),()=>i(null)):i?(i.current=a,()=>{i.current=null}):void 0),[i,a]),o.createElement(o.Fragment,null,n.map((e=>o.createElement(ki,{key:e.key,plugin:e}))))}const Ci=(0,o.memo)((({id:e})=>{const t=(0,f.ui)(),r=Bn("keyEditor",e),n=Bn("keySelection",e);return(0,o.useEffect)((()=>{r()})),(0,o.useEffect)((()=>{n()}),[t.selection,n]),null}));function Ei({children:e,renderEditable:t,editableRef:r,firstChildren:n,...a}){const{id:i}=a,u=hi(),{plugins:l}=u,c=vi(a),s=o.createElement(f.CX,g({ref:r},c));let d=null,p=null;l.forEach((e=>{const{renderBeforeEditable:t,renderAfterEditable:r}=e;r&&(d=o.createElement(o.Fragment,null,d,r(c))),t&&(p=o.createElement(o.Fragment,null,p,t(c)))}));let v=o.createElement(o.Fragment,null,n,p,t?t(s):s,o.createElement(ji,{id:i}),o.createElement(Ci,{id:i}),o.createElement(Oi,{id:i}),d,e);return l.forEach((e=>{const{renderAboveEditable:t}=e;t&&(v=t({children:v}))})),v}function _i({children:e,...t}){return gi(t),o.createElement(o.Fragment,null,e)}function Si({normalizeInitialValue:e,...t}){const{id:r=On,editor:a,initialValue:i,value:u,children:l,plugins:s,disableCorePlugins:f,onChange:d,editorRef:p,decorate:v,renderElement:h,renderLeaf:y,readOnly:b}=t,g=(0,o.useMemo)((()=>null!=a?a:Ua({id:r,plugins:s,disableCorePlugins:f})),[]),m=(0,o.useMemo)((()=>{let t=null!=i?i:u;t||(t=g.children.length>0?g.children:g.childrenFactory());const r=oi(g,t);return r&&(t=r),g.children=t,e&&(0,c.Nh)(g,{force:!0}),g.children}),[]);return o.createElement(n.zt,{initialValues:[[_n.atom.id,r],[_n.atom.editor,g],[_n.atom.plugins,g.plugins],[_n.atom.rawPlugins,s],[_n.atom.readOnly,b],[_n.atom.value,m],[_n.atom.decorate,{fn:v}],[_n.atom.onChange,{fn:d}],[_n.atom.editorRef,{ref:p}],[_n.atom.renderElement,{fn:h}],[_n.atom.renderLeaf,{fn:y}]],scope:r},o.createElement(n.zt,{initialValues:[[En,r]],scope:Cn},o.createElement(_i,t,l)))}function Pi(e){const{id:t}=e;return o.createElement(Si,g({key:null==t?void 0:t.toString()},e))}function xi({id:e,children:t}){const r=mi({id:e}),{plugins:n}=Pn(e).editor();let a=o.createElement(f.mH,r,t);return null==n||n.forEach((e=>{const{renderAboveSlate:t}=e;t&&(a=t({children:a}))})),a}function Bi({children:e,editableRef:t,firstChildren:r,renderEditable:n,editableProps:a,...i}){const{id:u=On}=i,l=Pn(u).id(),c=o.createElement(xi,{id:u},o.createElement(Ei,g({id:u,editableRef:t,firstChildren:r,renderEditable:n},a),e));return l?c:o.createElement(Pi,i,c)}const Ai=(e,t,r)=>{const{activeType:n,inactiveType:o=vo(e,io)}=t;if(!n||!e.selection)return;const a=(0,c.zw)(e,{...r,match:{type:n}});a&&n===o||(0,c.oU)(e,{type:a?o:n})}}}]);
